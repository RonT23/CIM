# Hot Rolling Process Control Using a Fuzzy Logic System

## Folder Structure

```bash
    hot-rolling-fuzzy/
        \__ hot_rolling_fuzzy_package/
            
            \__ hot_rolling_fuzzy_package/
                    \__ __init__.py
                    \__ hot_rolling_fuzzy.py
            
            \__ README.md
            \__ setup.py

        \__ results
                \__ absolute_normalized_tension_change_error.png
                \__ expected_vs_predicted_front_tension_change.png
                \__ expected_vs_predicted_back_tension_change.png
        \__ steady_state_evaluation.py
        \__ simple_template.py
        \__ README.md
        
        \__ docs/
                \__ hot_rolling_fuzzy_controller.pdf
```

## Description

This is an attempt to reproduce the results from the original work of Jong-Yeob Jung and Yong-Taek Im `Fuzzy Control Algorithm for the Prediction of Tension Variations in Hot Rolling`. 

Hot rolling is a well-known process used to produce thin sheets of metal by rolling a steel strip at high temperatures. This process finds applications in industries such as automotive manufacturing, where it is used for automobile bodies, and in various consumer electronic products.

The uniformity of the resulting strip thickness is of great importance as it serves as a critical quality factor in producing such materials. In their paper, the authors demonstrate that among many factors, the most significant contributors to poor quality are the variations in front and back tensions during the rolling of steel strips.

To address this issue, they propose an algorithm based on Fuzzy Logic and introduce it as part of a loop process controller, showing that it can lead to improved thickness accuracy and better efficiency.

Here we attempt to replicate their results with a Python environment. 

## Prerequisites

This package is written in Python, making it largely hardware- and operating system-agnostic, so it should operate similarly across different systems. However, as development and testing were conducted in a Linux-based environment, it is recommend using a Linux environment to run if possible. Most commands should also work on Windows via Windows Subsystem for Linux (WSL), or by using a virtual machine on a Windows host running one of the many Linux distros available.

The only requirement is Python version 3.5 or higher. Other than that, there are no additional dependencies to use the package.

## Create Virtual Environment

To keep this package separate from other Python packages on your system, it is best practice to use a virtual environment. To create and activate a virtual environment run:

```bash
   $ python3 -m venv hot_rolling_fuzzy
   $ source ./hot_rolling_fuzzy/bin/activate
```

## Package Installation 

Navigate to the `./hot_rolling_fuzzy_package` directory and run the following command to install the package locally on your computer (within the virtual environment you created).

```bash
    $ pip3 install -e .
```

## Make a Prediction

To make a simple prediction for the variations in back and front tension and achieve optimal thickness uniformity using this Python package, create the following script or open `simple_template.py`.

```Python
    from hot_rolling_fuzzy_package.hot_rolling_fuzzy_package.hot_rolling_fuzzy import *

    if __name__ == "__main__":
        
        # Create an object 
        ctrl = HotRollingFuzzyControl()
        
        # Define the crisp input values 
        h_in_test = 3.7
        C_test = 10.7

        # Make the prediction
        ctrl.compute_steady_state(h_in_test, C_test)

        # Read the predicted values
        d_sigma_f = ctrl.get_d_sigma_f()
        d_sigma_b = ctrl.get_d_sigma_b()
        
        # Print the results
        print(f"d_sigma_f = { d_sigma_f }")
        print(f"d_sigma_b = { d_sigma_b }")
```

## Run the `steady_state_evaluation.py`

The `steady_state_evaluation.py` script is designed to evaluate the system using the data samples provided in the paper. As input samples (test samples), we use the data given in *Table 10* of the paper and measure the absolute error between the output produced by the proposed fuzzy system (implemented in this Python package) and the FEM results provided in the paper for the actual expected values.

The script also plots graphs depicting the differences between the predicted and actual values, as well as the absolute error per prediction normalized against the actual expected values. 

## Results

The `results` folder contains the graphs generated by `steady_state_evaluation.py`, which is designed to evaluate the functionality of the algorithm using the data samples provided in the paper.

## Documentation

More details can be found in `hot_rooling_fuzzy_controller.pdf` located in the `./docs/` folder. For further information, please contact me at `rontsela@mail.ntua.gr` or `ron-tsela@di.uoa.gr`.
